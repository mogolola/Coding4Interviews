"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Tester = void 0;
var underscore_1 = require("underscore");
var Tester = /** @class */ (function () {
    function Tester(func) {
        this.testList = [];
        this._func = func;
    }
    Object.defineProperty(Tester.prototype, "func", {
        get: function () {
            return this._func;
        },
        enumerable: false,
        configurable: true
    });
    Tester.prototype.addTest = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var expected = args.pop();
        this.testList.push([args, expected]);
    };
    Tester.prototype.doTest = function () {
        var _a = this, testList = _a.testList, func = _a.func;
        console.log("start tests");
        try {
            testList.forEach(function (_a, idx) {
                var args = _a[0], expectedAns = _a[1];
                var result = func.apply(void 0, args);
                if (underscore_1.isEqual(result, expectedAns)) {
                    console.log("Test " + (idx + 1) + " is succeed");
                }
                else {
                    console.log("Test " + (idx + 1) + " is failed, result expected to be " + expectedAns + ", result actully is " + result);
                }
            });
            console.log("Tests done");
        }
        catch (e) {
            console.log("Tests are interrepted due to exception");
            console.error(e);
        }
    };
    return Tester;
}());
exports.Tester = Tester;
